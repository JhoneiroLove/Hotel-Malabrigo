<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="author" content="Jhoel Maqui">
    <meta name="description" content="Recuperar contraseña">
    <meta name="keywords" content="Reserva hotel">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="img/hotel.jpg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Dirt&display=swap" rel="stylesheet">
    <title>Administrar Hoteles</title>
</head>

<body>
    <div class="container-fluid">
        <div class="row flex-nowrap">
            <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
                <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">
                    <a href="/"
                        class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                        <span class="fs-5 d-none d-sm-inline">Menu</span>
                    </a>
                    <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start"
                        id="menu">
                        
                        <li class="nav-item">
                            <a href="usuarios.html" class="nav-link align-middle px-0" id="user-link"
                                data-toggle="modal" data-target="#userModal">
                                <i class="fs-4 bi-people"></i> <span class="ms-1 d-none d-sm-inline">Usuarios del
                                    sistema</span>
                            </a>

                        </li>
                        <li class="nav-item">
                            <a href="servicios.html" class="nav-link px-0 align-middle">
                                <i class="fs-4 bi-gear"></i> <span class="ms-1 d-none d-sm-inline">Servicios</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="hotel.html" class="nav-link align-middle px-0" id="user-link" data-toggle="modal"
                                data-target="#userModal">
                                <i class="fs-4 bi-people"></i> <span class="ms-1 d-none d-sm-inline">Hoteles</span>
                            </a>

                        </li>
                    </ul>
                    <hr>

                </div>
            </div>
            <div id="content-container" class="col py-3">
                <div class="container">
                    <h1>Administrar servicios</h1>

                    <!-- Barra de búsqueda -->
                    <!-- Barra de búsqueda -->
                    <div class="mb-3">
                        <input type="text" class="form-control" id="searchInput" placeholder="Buscar">
                    </div>

                    <table class="table table-striped text-center">
                        <thead>
                            <tr class="text-center">
                                <th>#</th>
                                <th>Servicio</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="serviciosTabla">
                            <!-- Filas de servicios -->
                            <tr>
                                <td>1</td>
                                <td>Desayuno buffet</td>
                                <td>$10</td>
                                <td>
                                    <button class="btn btn-danger">Eliminar</button>
                                    <button class="btn btn-primary">Editar</button>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Servicio de habitaciones</td>
                                <td>$15</td>
                                <td>
                                    <button class="btn btn-danger">Eliminar</button>
                                    <button class="btn btn-primary">Editar</button>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Gimnasio</td>
                                <td>$10</td>
                                <td>
                                    <button class="btn btn-danger">Eliminar</button>
                                    <button class="btn btn-primary">Editar</button>
                                </td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Wi-Fi</td>
                                <td>$5</td>
                                <td>
                                    <button class="btn btn-danger">Eliminar</button>
                                    <button class="btn btn-primary">Editar</button>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="5">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col text-center">
                                                <button id="agregarServicioBtn" class="btn btn-primary">Agregar Nuevo
                                                    Servicio</button>

                                            </div>
                                            <div class="col text-center">
                                                <button class="btn btn-success" data-bs-toggle="modal">Guardar
                                                    cambios</button>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tfoot>
                    </table>


                </div>

                <!-- Modal Agregar Servicio -->
                <div class="modal fade" id="agregarServicioModal" tabindex="-1"
                    aria-labelledby="agregarServicioModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="agregarServicioModalLabel">Agregar Nuevo Servicio</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Cerrar"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="servicioInput" class="form-label">Servicio</label>
                                        <input type="text" class="form-control" id="servicioInput"
                                            placeholder="Nombre servicio">
                                    </div>
                                    <div class="mb-3">
                                        <label for="precioInput" class="form-label">Precio</label>
                                        <input type="text" class="form-control" id="precioInput"
                                            placeholder="Ingrese el precio">
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-primary"
                                    onclick="agregarServicio()">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>

<!-- Modal Eliminar Usuario -->
<div class="modal fade" id="eliminarServicioModal" tabindex="-1"
aria-labelledby="eliminarServicioModalLabel" aria-hidden="true">
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="eliminarServicioModalLabel">Eliminar Servicio</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
            <p>¿Estás seguro de que deseas eliminar este servicio?</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary"
                data-bs-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-danger"
                id="confirmarEliminarServicio">Eliminar</button>
        </div>
    </div>
</div>
</div>


                <!-- Modal Editar Servicio -->
                <div class="modal fade" id="editarServicioModal" tabindex="-1"
                    aria-labelledby="editarServicioModalLabel" aria-hidden="true">
                    aria-labelledby="editarServicioModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="editarServicioModalLabel">Editar Servicio</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Cerrar"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="editarServicioInput" class="form-label">Servicio</label>
                                        <input type="text" class="form-control" id="editarServicioInput"
                                            placeholder="Nombre servicio">
                                    </div>
                                    <div class="mb-3">
                                        <label for="editarPrecioInput" class="form-label">Precio</label>
                                        <input type="text" class="form-control" id="editarPrecioInput"
                                            placeholder="Ingrese el precio">
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Cancelar</button>
                                <!-- Identificador agregado al botón -->
                                <button type="button" class="btn btn-primary"
                                    id="guardarEdicionServicioBtn">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                     // Función para eliminar un Servicio
                     function eliminarServicio(botonEliminar) {
                        var fila = botonEliminar.closest("tr"); // Obtener la fila a la que pertenece el botón
                        var modal = new bootstrap.Modal(document.getElementById("eliminarServicioModal")); // Crear instancia del modal

                        document.getElementById("confirmarEliminarServicio").addEventListener("click", function () {
                            fila.remove(); // Eliminar la fila de la tabla
                            modal.hide(); // Ocultar el modal de eliminación
                        });

                        modal.show(); // Mostrar el modal de eliminación
                    }
                </script>

                <script>
                    var filaEditada = null; // Variable global para almacenar la fila editada

                    // Asignar evento de click al botón "Guardar" del modal de "Editar Servicio"
                    document.getElementById("guardarEdicionServicioBtn").addEventListener("click", guardarEdicionServicio);

                    // Función para editar un servicio
                    function editarServicio(btn) {
                        var modal = new bootstrap.Modal(document.getElementById("editarServicioModal"));

                        // Obtener la fila del servicio seleccionado
                        var fila = btn.closest("tr");
                        var servicio = fila.cells[1].textContent;
                        var precio = fila.cells[2].textContent;

                        // Establecer los valores en el formulario de edición
                        document.getElementById("editarServicioInput").value = servicio;
                        document.getElementById("editarPrecioInput").value = precio;

                        filaEditada = fila; // Almacenar la fila editada en la variable global

                        modal.show();
                    }

                    // Función para guardar la edición de un servicio
                    function guardarEdicionServicio() {
                        // Obtener los valores ingresados en el formulario
                        var servicio = document.getElementById("editarServicioInput").value;
                        var precio = document.getElementById("editarPrecioInput").value;

                        // Actualizar los valores en la fila editada
                        filaEditada.cells[1].textContent = servicio;
                        filaEditada.cells[2].textContent = precio;

                        // Cerrar el modal de "Editar Servicio"
                        var modal = bootstrap.Modal.getInstance(document.getElementById("editarServicioModal"));
                        modal.hide();
                    }
                </script>


                <script>
                    var contadorServicios = 4;
                    // Asignar evento de click al botón "Agregar Nuevo Servicio"
                    document.getElementById("agregarServicioBtn").addEventListener("click", function () {
                        var modal = new bootstrap.Modal(document.getElementById("agregarServicioModal"));
                        modal.show();
                    });

                    // Función para agregar un servicio
                    function agregarServicio() {
                        // Obtener los valores ingresados en el formulario
                        var servicio = document.getElementById("servicioInput").value;
                        var precio = document.getElementById("precioInput").value;

                        // Crear una nueva fila para el servicio
                        var nuevaFila = document.createElement("tr");
                        var numeroCelda = document.createElement("td");
                        var servicioCelda = document.createElement("td");
                        var precioCelda = document.createElement("td");
                        var accionesCelda = document.createElement("td");

                        // Configurar el contenido de las celdas
                        numeroCelda.textContent = ++contadorServicios; // Incrementar el contador y asignar el número de servicio
                        servicioCelda.textContent = servicio;
                        precioCelda.textContent = precio;
                        accionesCelda.innerHTML =
                            '<button class="btn btn-sm btn-primary" onclick="editarServicio(this)">Modificar</button> ' +
                            '<button class="btn btn-sm btn-danger" onclick="eliminarServicio(this)">Eliminar</button>';

                        // Agregar las celdas a la nueva fila
                        nuevaFila.appendChild(numeroCelda);
                        nuevaFila.appendChild(servicioCelda);
                        nuevaFila.appendChild(precioCelda);
                        nuevaFila.appendChild(accionesCelda);

                        // Agregar la nueva fila a la tabla
                        document.getElementById("serviciosTabla").appendChild(nuevaFila);

                        // Limpiar los campos del formulario
                        document.getElementById("servicioInput").value = "";
                        document.getElementById("precioInput").value = "";

                        // Cerrar el modal de "Agregar Servicio"
                        var modal = bootstrap.Modal.getInstance(document.getElementById("agregarServicioModal"));
                        modal.hide();
                    }

                    // Asignar evento de click al botón "Guardar" del modal de "Agregar Servicio"
                    document.getElementById("confirmarAgregarServicio").addEventListener("click", agregarServicio);
                </script>



            </div>
        </div>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
</body>

</html>